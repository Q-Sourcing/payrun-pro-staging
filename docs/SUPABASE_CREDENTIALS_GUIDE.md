# üîë Supabase Credentials Setup Guide

## Overview
This guide will help you obtain the real Supabase API keys for both production and staging environments.

## üè≠ Production Environment (Nalungu's Payroll)

### Step 1: Access Supabase Dashboard
1. Go to [https://supabase.com/dashboard](https://supabase.com/dashboard)
2. Sign in with your account
3. Find the project: **"Nalungu's Payroll"** (Project ID: `kctwfgbjmhnfqtxhagib`)

### Step 2: Get API Keys
1. Click on **Settings** ‚Üí **API**
2. Copy the following values:
   - **Project URL**: `https://kctwfgbjmhnfqtxhagib.supabase.co`
   - **anon/public key**: (starts with `eyJ...`)
   - **service_role key**: (starts with `eyJ...`)

### Step 3: Update Production Environment
Replace the values in `.env`:
```bash
VITE_SUPABASE_URL=https://kctwfgbjmhnfqtxhagib.supabase.co
VITE_SUPABASE_ANON_KEY=eyJ... (your real anon key)
SUPABASE_SERVICE_ROLE_KEY=eyJ... (your real service role key)
NODE_ENV=production
NEXT_PUBLIC_ENV=production
```

## üß™ Staging Environment (Payroll-Staging)

### Step 1: Access Staging Project
1. In Supabase Dashboard, find: **"Payroll-Staging"** (Project ID: `sbphmrjoappwlervnbtm`)

### Step 2: Get Staging API Keys
1. Click on **Settings** ‚Üí **API**
2. Copy the staging values:
   - **Project URL**: `https://sbphmrjoappwlervnbtm.supabase.co`
   - **anon/public key**: (starts with `eyJ...`)
   - **service_role key**: (starts with `eyJ...`)

### Step 3: Update Staging Environment
Replace the values in `.env.staging`:
```bash
VITE_SUPABASE_URL=https://sbphmrjoappwlervnbtm.supabase.co
VITE_SUPABASE_ANON_KEY=eyJ... (your real staging anon key)
SUPABASE_SERVICE_ROLE_KEY=eyJ... (your real staging service role key)
NODE_ENV=staging
NEXT_PUBLIC_ENV=staging
```

## üîí Security Best Practices

### For Local Development
- Never commit real API keys to Git
- Use `.env.local` for local development
- Add `.env.local` to `.gitignore`

### For Production/Staging
- Store keys in GitHub Secrets
- Use environment variables in deployment
- Rotate keys regularly

## üß™ Testing Your Credentials

### Quick Test Script
Run this command to test your credentials:
```bash
# Test production
cp .env.production .env
node scripts/testSupabaseConnection.cjs

# Test staging  
cp .env.staging .env
node scripts/testSupabaseConnection.cjs
```

### Expected Results
- ‚úÖ Connection successful
- ‚úÖ Query returns data
- ‚úÖ Environment badge shows correct environment

## üö® Troubleshooting

### Common Issues
1. **Invalid API key**: Check if you copied the full key
2. **Connection refused**: Verify the project URL
3. **Permission denied**: Ensure RLS policies allow access

### Verification Steps
1. Check Supabase project is active
2. Verify API keys are correct
3. Test with simple query
4. Check network connectivity

## üìû Support
If you need help:
1. Check Supabase documentation
2. Verify project settings
3. Contact Supabase support if needed

---
*Generated by Q-Payroll environment setup system*
